{"primaryContentSections":[{"kind":"content","content":[{"text":"Overview","anchor":"Overview","type":"heading","level":2},{"inlineContent":[{"text":"Dictionary-rooted plists are the most common structure for plist files. This guide will give an overview of methods offered specifically on ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/SwiftPList\/documentation\/SwiftPList\/DictionaryPList"},{"text":" which give useful functional API to read and write from nested dictionaries.","type":"text"}],"type":"paragraph"},{"text":"Read\/Write Keys","anchor":"ReadWrite-Keys","type":"heading","level":2},{"syntax":"swift","code":["\/\/ can create intermediate dictionaries if nonexistent","plist.createIntermediateDictionaries = true \/\/ (note: defaults to true)","","\/\/ create a new Int key within nested dictionaries","plist.root","    .dict(key: \"Dict\")","    .dict(key: \"Nested Dict\")","    .int(key: \"Int\")","    .value = 123","","\/\/ read the value back","let val = plist.root","    .dict(key: \"Dict\")","    .dict(key: \"Nested Dict\")","    .int(key: \"Int\")","    .value  \/\/ == Optional(123)"],"type":"codeListing"},{"inlineContent":[{"type":"text","text":"All valid property list value types map transparently to native Swift value types."}],"type":"paragraph"},{"syntax":"swift","code":["plist.root.any(key: \"Any\").value = \"a new string\" \/\/ value of any valid PListValue type","plist.root.string(key: \"String\").value = \"a new string\"","plist.root.int(key: \"Int\").value = 123","plist.root.double(key: \"Double\").value = 123.45","plist.root.bool(key: \"Bool\").value = true","plist.root.date(key: \"Date\").value = Date()","plist.root.data(key: \"Data\").value = Data([0x01, 0x02])","plist.root.array(key: \"Array\").value = [","    \"a string\",","    123, ","    123.45,","    true, ","    Date(), ","    Data([0x01, 0x02])","]","","\/\/ dictionaries can be modified directly if necessary,","\/\/ perhaps if you need to populate a large data set or copy a nested structure.","\/\/ but otherwise it's much nicer to use the discretely typed methods above","plist.root.dict(key: \"Dictionary\").value = [","    \"Key 1\" : \"a string\",","    \"Key 2\" : 123","]"],"type":"codeListing"},{"text":"Manipulating Array Elements Directly","anchor":"Manipulating-Array-Elements-Directly","type":"heading","level":2},{"inlineContent":[{"text":"Arrays can, of course, be modified in-place using native Swift subscripts.","type":"text"}],"type":"paragraph"},{"syntax":"swift","code":["plist.root.array(key: \"Array\").value?[0] = \"replaced string value\"","plist.root.array(key: \"Array\").value?.append(\"new string value\")"],"type":"codeListing"},{"text":"Reading Arrays","anchor":"Reading-Arrays","type":"heading","level":2},{"inlineContent":[{"type":"text","text":"Since property list arrays can contain any valid plist value type simultaneously, when reading arrays you need to conditionally cast values to test their type."}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["let array = plist.root.array(key: \"Array\").value ?? [] \/\/ PListArray, aka [PListValue]","","for element in array {","    switch element {","    case let val as String:           print(\"String: \\(val)\")","    case let val as Int:              print(\"Int: \\(val)\")","    case let val as Double:           print(\"Double: \\(val)\")","    case let val as Bool:             print(\"Bool: \\(val)\")","    case let val as Date:             print(\"Date: \\(val)\")","    case let val as Data:             print(\"Data with \\(val.count) bytes\")","    case let val as PListArray:       print(\"Array with \\(val.count) elements\")","    case let val as PListDictionary:  print(\"Dictionary with \\(val.count) elements\")","    default: break","    }","}"]},{"text":"Deleting Keys","type":"heading","anchor":"Deleting-Keys","level":2},{"syntax":"swift","type":"codeListing","code":["\/\/ delete a key","plist.root.string(key: \"String\").value = nil","","\/\/ delete a dictionary or array and all of its contents","plist.root.array(key: \"Array\").value = nil","plist.root.dict(key: \"Dict\").value = nil"]},{"text":"Subscripts","type":"heading","anchor":"Subscripts","level":2},{"inlineContent":[{"type":"text","text":"A full set of chainable subscripts are also available if you choose to use them, mirroring the functional methods. To use them, reference the "},{"type":"reference","identifier":"doc:\/\/SwiftPList\/documentation\/SwiftPList\/PListProtocol\/storage","isActive":true},{"type":"text","text":" property directly instead of "},{"type":"codeVoice","code":"root"},{"type":"text","text":"."}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["plist.storage[any: \"Keyname\"] \/\/ reads key value as any PListValue","","plist.storage[string: \"Keyname\"]","plist.storage[int: \"Keyname\"]","plist.storage[double: \"Keyname\"]","plist.storage[bool: \"Keyname\"]","plist.storage[date: \"Keyname\"]","plist.storage[data: \"Keyname\"]","plist.storage[array: \"Keyname\"]","plist.storage[dict: \"Keyname\"]"]},{"inlineContent":[{"text":"The subscripts are usable to both get and set.","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["plist.storage[string: \"Keyname\"] = \"string value\"","let str = plist.storage[string: \"Keyname\"] ?? \"\" \/\/ \"string value\""]},{"inlineContent":[{"type":"text","text":"Nested dictionaries can easily be accessed through chaining subscripts."}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["\/\/ sets nested string key if the intermediate dictionaries already exist","plist.storage[dict: \"Dict\"]?[dict: \"Nested Dict\"]?[string: \"Keyname\"] = \"string value\"","","\/\/ alternative subscript creates nested dictionaries if they don't exist","plist.storage[dictCreate: \"Dict\"]?[dictCreate: \"Nested Dict\"]?[string: \"Keyname\"] = \"string value\"","","\/\/ subscript bodies may be on new lines in the event of very long subscript chains","plist.storage[","    dictCreate: \"Dict\"","]?[","    dictCreate: \"Nested Dict\"","]?[","    string: \"Keyname\"","] = \"string value\""]},{"inlineContent":[{"text":"Arrays can be read by index, conditionally casting to a strong type in process:","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["\/\/ safely attempt to read indexes","\/\/ if index does not exist, returns nil","\/\/ if index exists but is of wrong type, returns nil","plist.storage[array: \"Array\"]?[any: 0]    \/\/ read index 0 as PListValue; must cast it yourself","plist.storage[array: \"Array\"]?[string: 0] \/\/ read index 0 as? String","plist.storage[array: \"Array\"]?[int: 0]    \/\/ read index 0 as? Int","plist.storage[array: \"Array\"]?[double: 0] \/\/ read index 0 as? Double","plist.storage[array: \"Array\"]?[bool: 0]   \/\/ read index 0 as? Bool","plist.storage[array: \"Array\"]?[date: 0]   \/\/ read index 0 as? Date","plist.storage[array: \"Array\"]?[data: 0]   \/\/ read index 0 as? PList.PListArray","plist.storage[array: \"Array\"]?[dict: 0]   \/\/ read index 0 as? PList.PListDictionary"]}]}],"topicSections":[{"title":"Type Alias","anchor":"Type-Alias","identifiers":["doc:\/\/SwiftPList\/documentation\/SwiftPList\/DictionaryPList"]}],"sections":[],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/swiftplist\/working-with-dictionaryplist"]}],"abstract":[{"text":"An overview of working with Dictionary-rooted plists.","type":"text"}],"schemaVersion":{"minor":3,"major":0,"patch":0},"kind":"article","identifier":{"interfaceLanguage":"swift","url":"doc:\/\/SwiftPList\/documentation\/SwiftPList\/Working-with-DictionaryPList"},"hierarchy":{"paths":[["doc:\/\/SwiftPList\/documentation\/SwiftPList"]]},"metadata":{"roleHeading":"API Collection","modules":[{"name":"SwiftPList"}],"role":"collectionGroup","title":"Working with DictionaryPList"},"seeAlsoSections":[{"title":"Guides","anchor":"Guides","identifiers":["doc:\/\/SwiftPList\/documentation\/SwiftPList\/Property-List-Value-Types","doc:\/\/SwiftPList\/documentation\/SwiftPList\/Create-a-new-plist","doc:\/\/SwiftPList\/documentation\/SwiftPList\/Load-a-plist-file-from-disk","doc:\/\/SwiftPList\/documentation\/SwiftPList\/Working-with-Non-Dictionary-plists","doc:\/\/SwiftPList\/documentation\/SwiftPList\/Property-List-Formats"],"generated":true}],"references":{"doc://SwiftPList/documentation/SwiftPList/PListProtocol/storage":{"title":"storage","kind":"symbol","type":"topic","role":"symbol","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"storage"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Self"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Root","preciseIdentifier":"s:10SwiftPList0B8ProtocolP4RootQa"}],"abstract":[{"type":"text","text":"Root strongly-typed storage backing for the plist."}],"required":true,"identifier":"doc:\/\/SwiftPList\/documentation\/SwiftPList\/PListProtocol\/storage","url":"\/documentation\/swiftplist\/plistprotocol\/storage"},"doc://SwiftPList/documentation/SwiftPList/Property-List-Value-Types":{"identifier":"doc:\/\/SwiftPList\/documentation\/SwiftPList\/Property-List-Value-Types","abstract":[{"text":"Valid property list value types.","type":"text"}],"url":"\/documentation\/swiftplist\/property-list-value-types","type":"topic","role":"collectionGroup","title":"Property List Value Types","kind":"article"},"doc://SwiftPList/documentation/SwiftPList/PListDictionary":{"fragments":[{"text":"typealias","kind":"keyword"},{"text":" ","kind":"text"},{"text":"PListDictionary","kind":"identifier"}],"navigatorTitle":[{"text":"PListDictionary","kind":"identifier"}],"title":"PListDictionary","identifier":"doc:\/\/SwiftPList\/documentation\/SwiftPList\/PListDictionary","abstract":[{"type":"text","text":"Strongly-typed Dictionary type used by "},{"type":"reference","isActive":true,"identifier":"doc:\/\/SwiftPList\/documentation\/SwiftPList\/PList"},{"type":"text","text":"."}],"kind":"symbol","url":"\/documentation\/swiftplist\/plistdictionary","type":"topic","role":"symbol"},"doc://SwiftPList/documentation/SwiftPList/Working-with-Non-Dictionary-plists":{"kind":"article","url":"\/documentation\/swiftplist\/working-with-non-dictionary-plists","role":"collectionGroup","type":"topic","abstract":[{"type":"text","text":"An overview of working with non-Dictionary-rooted plists."}],"title":"Working with Non-Dictionary plists","identifier":"doc:\/\/SwiftPList\/documentation\/SwiftPList\/Working-with-Non-Dictionary-plists"},"doc://SwiftPList/documentation/SwiftPList/Property-List-Formats":{"role":"collectionGroup","abstract":[{"type":"text","text":"Property list files can be encoded in different data formats."}],"type":"topic","title":"Property List Formats","url":"\/documentation\/swiftplist\/property-list-formats","kind":"article","identifier":"doc:\/\/SwiftPList\/documentation\/SwiftPList\/Property-List-Formats"},"doc://SwiftPList/documentation/SwiftPList":{"abstract":[{"type":"text","text":"A multi-platform Swift library bringing functional methods and type safety to .plist (Property List) files."}],"url":"\/documentation\/swiftplist","role":"collection","title":"SwiftPList","identifier":"doc:\/\/SwiftPList\/documentation\/SwiftPList","kind":"symbol","type":"topic"},"doc://SwiftPList/documentation/SwiftPList/Load-a-plist-file-from-disk":{"abstract":[{"type":"text","text":"Methods to load a .plist file from disk or from raw .plist file data."}],"url":"\/documentation\/swiftplist\/load-a-plist-file-from-disk","identifier":"doc:\/\/SwiftPList\/documentation\/SwiftPList\/Load-a-plist-file-from-disk","role":"collectionGroup","type":"topic","title":"Load a plist File From Disk","kind":"article"},"doc://SwiftPList/documentation/SwiftPList/DictionaryPList":{"role":"symbol","url":"\/documentation\/swiftplist\/dictionaryplist","abstract":[{"type":"text","text":"Class representing a Property List (plist) with a "},{"identifier":"doc:\/\/SwiftPList\/documentation\/SwiftPList\/PListDictionary","type":"reference","isActive":true},{"type":"text","text":" root."},{"type":"text","text":" "},{"type":"text","text":"This is the most common plist root layout and provides the most amount of useful abstractions of"},{"type":"text","text":" "},{"type":"text","text":"all plist classes in swift-plist."}],"kind":"symbol","fragments":[{"text":"typealias","kind":"keyword"},{"text":" ","kind":"text"},{"text":"DictionaryPList","kind":"identifier"}],"type":"topic","identifier":"doc:\/\/SwiftPList\/documentation\/SwiftPList\/DictionaryPList","title":"DictionaryPList","navigatorTitle":[{"text":"DictionaryPList","kind":"identifier"}]},"doc://SwiftPList/documentation/SwiftPList/Create-a-new-plist":{"kind":"article","abstract":[{"text":"How to create a new empty plist object.","type":"text"}],"type":"topic","url":"\/documentation\/swiftplist\/create-a-new-plist","identifier":"doc:\/\/SwiftPList\/documentation\/SwiftPList\/Create-a-new-plist","title":"Create a New plist","role":"collectionGroup"}}}